{"version":3,"sources":["../src/index.js"],"names":["setOption","addChangeListener","removeChangeListener","setLocalItem","getLocalItem","getAllLocalItem","removeLocalItem","removeAllLocalItem","options","cookies","Cookies","op","_","merge","callback","localStorageName","data","set","cookie","get","getAll","sentOptions","path","remove","prefix","storageName","Object","keys","forEach","key","regex","RegExp","test"],"mappings":";;;;;QAYgBA,S,GAAAA,S;QAUAC,iB,GAAAA,iB;QAUAC,oB,GAAAA,oB;QAWAC,Y,GAAAA,Y;QAaAC,Y,GAAAA,Y;QAiBAC,e,GAAAA,e;QAWAC,e,GAAAA,e;QAgBAC,kB,GAAAA,kB;;AApGhB;;;;AACA;;;;;;AAEA,IAAIC,UAAU,EAAd;AACA,IAAMC,UAAU,IAAIC,yBAAJ,EAAhB;;AAEA;;;;;;AAMO,SAASV,SAAT,GAA4B;AAAA,MAATW,EAAS,uEAAJ,EAAI;;AACjCH,YAAUI,iBAAEC,KAAF,CAAQL,OAAR,EAAiBG,EAAjB,CAAV;AACD;;AAED;;;;;;AAMO,SAASV,iBAAT,CAA2Ba,QAA3B,EAAqC;AAC1CL,UAAQR,iBAAR,CAA0Ba,QAA1B;AACD;;AAED;;;;;;AAMO,SAASZ,oBAAT,CAA8BY,QAA9B,EAAwC;AAC7CL,UAAQP,oBAAR,CAA6BY,QAA7B;AACD;;AAED;;;;;;;AAOO,SAASX,YAAT,CAAsBY,gBAAtB,EAAwCC,IAAxC,EAA8C;AACnD;AACAP,UAAQQ,GAAR,CAAYF,gBAAZ,EAA8BC,IAA9B,EAAoCR,OAApC;AACD;;AAED;;;;;;;;AAQO,SAASJ,YAAT,CAAsBW,gBAAtB,EAAiD;AAAA,MAATJ,EAAS,uEAAJ,EAAI;;AACtD;AACA,MAAMO,SAAST,QAAQU,GAAR,CAAYJ,gBAAZ,EAA8BJ,EAA9B,CAAf;AACA,MAAIO,MAAJ,EAAY;AACV,WAAOA,MAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF;;AAED;;;;;;;AAOO,SAASb,eAAT,GAAkC;AAAA,MAATM,EAAS,uEAAJ,EAAI;;AACvC,SAAOF,QAAQW,MAAR,CAAeT,EAAf,CAAP;AACD;;AAED;;;;;;;AAOO,SAASL,eAAT,CAAyBS,gBAAzB,EAAoD;AAAA,MAATJ,EAAS,uEAAJ,EAAI;;AACzD;AACA,MAAMU,cAAcT,iBAAEC,KAAF,CAAQ;AACxBS,UAAM;AADkB,GAAR,EAGlBX,EAHkB,CAApB;AAKAF,UAAQc,MAAR,CAAeR,gBAAf,EAAiCM,WAAjC;AACD;;AAED;;;;;;AAMO,SAASd,kBAAT,CAA4BiB,MAA5B,EAAoC;AACzC,MAAMC,cAAchB,QAAQW,MAAR,EAApB;AACAM,SAAOC,IAAP,CAAYF,WAAZ,EAAyBG,OAAzB,CAAiC,UAAUC,GAAV,EAAe;AAC9C,QAAMC,QAAQ,IAAIC,MAAJ,CAAW,MAAMP,MAAN,GAAe,IAA1B,EAAgC,GAAhC,CAAd;AACA,QAAIM,MAAME,IAAN,CAAWH,GAAX,CAAJ,EAAqB;AACnBvB,sBAAgBuB,GAAhB;AACD;AACF,GALD;AAMD","file":"index.js","sourcesContent":["import Cookies from \"universal-cookie\"\r\nimport _ from \"lodash\"\r\n\r\nlet options = {}\r\nconst cookies = new Cookies()\r\n\r\n/**\r\n * Set options for the next cookies that will be stored.\r\n *\r\n * @export\r\n * @param {Object} [options={}]\r\n */\r\nexport function setOption(op = {}) {\r\n  options = _.merge(options, op)\r\n}\r\n\r\n/**\r\n *  Add a listener to when a cookie is set or removed.\r\n *\r\n * @export\r\n * @param {function} callback\r\n */\r\nexport function addChangeListener(callback) {\r\n  cookies.addChangeListener(callback)\r\n}\r\n\r\n/**\r\n * Remove a listener from the change callback.\r\n *\r\n * @export\r\n * @param {function} callback\r\n */\r\nexport function removeChangeListener(callback) {\r\n  cookies.removeChangeListener(callback)\r\n}\r\n\r\n/**\r\n * Set a cookie value.\r\n *\r\n * @export\r\n * @param {string} localStorageName Cookie's name\r\n * @param {string, Object} data Cookie's value\r\n */\r\nexport function setLocalItem(localStorageName, data) {\r\n  // SAVE TO COOKIE\r\n  cookies.set(localStorageName, data, options)\r\n}\r\n\r\n/**\r\n * Get a cookie value.\r\n *\r\n * @export\r\n * @param {string} localStorageName Cookie's name\r\n * @param {Object} [options={}] Cookie's options\r\n * @returns Return cookie or false if cookie is not found.\r\n */\r\nexport function getLocalItem(localStorageName, op = {}) {\r\n  // GET ITEM FROM LOCAL STORAGE\r\n  const cookie = cookies.get(localStorageName, op)\r\n  if (cookie) {\r\n    return cookie\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * Get all cookies.\r\n *\r\n * @export\r\n * @param {Object} [options={}]\r\n * @returns Return all cookies.\r\n */\r\nexport function getAllLocalItem(op = {}) {\r\n  return cookies.getAll(op)\r\n}\r\n\r\n/**\r\n * Remove a cookie.\r\n *\r\n * @export\r\n * @param {string} localStorageName Cookie's name\r\n * @param {Object} [options={}] Cookie's options\r\n */\r\nexport function removeLocalItem(localStorageName, op = {}) {\r\n  // REMOVE ITEM FROM COOKIE\r\n  const sentOptions = _.merge({\r\n      path: \"/\"\r\n    },\r\n    op\r\n  )\r\n  cookies.remove(localStorageName, sentOptions)\r\n}\r\n\r\n/**\r\n * Remove all cookies.\r\n *\r\n * @export\r\n * @param {string} prefix Prefix of the cookie's name to remove\r\n */\r\nexport function removeAllLocalItem(prefix) {\r\n  const storageName = cookies.getAll()\r\n  Object.keys(storageName).forEach(function (key) {\r\n    const regex = new RegExp(\"^\" + prefix + \".*\", 'i')\r\n    if (regex.test(key)) {\r\n      removeLocalItem(key)\r\n    }\r\n  })\r\n}\r\n"]}